$field-gap: 8px

.form-field
  flex-grow: 1

.form-inline-field-help, .form-object-field-help
  display: none

.settings-help-visible
  .form-inline-field-help, .form-object-field-help
    display: block !important
    font-size: 1rem
    color: var(--color-text-dim)
    
.rjsf
  flex-grow: 1
  margin: 0
  padding: 0

  .errors
    display: none

  // PANEL HEADER

  .form-panel-header
    display: flex
    flex-direction: row
    justify-content: space-between
    align-items: baseline
    font-size: 1.2rem

    h4
      margin: 0
      padding:0
      margin-left: 8px
      border: 0
      font-size: 1rem

      .new-object
        font-style: italic
        color: var(--color-hl-error)

    small
      margin-left: 20px
      opacity: 0.4

  // OBJECT

  .form-object-header-enabled-toggler
    .form-inline-field-label
      display: none

  .group-changed
    .p-panel-header
      border-style: dashed 
      border-left: 4px solid var(--color-hl-changed) !important
    .form-inline-field-label
      color: var(--color-hl-changed) !important
  
  .form-object-field
    display: flex
    flex-direction: column
    gap: $field-gap

    // color for overrides
    .obj-override-studio > .p-panel-header
        border-left: 4px solid var(--color-hl-studio)

    .obj-override-project > .p-panel-header
        border-left: 4px solid var(--color-hl-project)

    .obj-override-site > .p-panel-header
        border-left: 4px solid var(--color-hl-site)

    .obj-override-edit > .p-panel-header
        border-left: 4px solid var(--color-hl-changed)

    &.layout-compact       
      flex-direction: row
      flex-grow: 1

      .form-object-field-item
        flex-grow: 1


    &.layout-expanded
      flex-direction: row
      border-bottom: 1px dotted #444
      flex-grow: 1
      padding-bottom: 6px

      .name-field
        .form-inline-field-label
          display: none

      .data-fields
        display: flex
        flex-grow: 1
        flex-direction: column
        gap: 8px


  .form-inline-field
    display: flex
    flex-grow: 1
    flex-direction: row
    align-items: flex-start
    justify-content: left
    gap: 8px
    padding-right: 2px // fix for right outline
    border-left: 1px solid transparent

    
    &.selected
      border-left: 1px solid var(--color-hl-00) 
      border-radius: 4px

    .form-inline-field-label
      flex-basis: 200px
      padding-left: 4px

      &.studio
        color: var(--color-hl-studio)
      &.project
        color: var(--color-hl-project)
      &.site
        color: var(--color-hl-site)
      &.edit
        color: var(--color-hl-changed)

      span
        display: flex
        align-items: center
        justify-content: flex-end
        width: 100%
        height: var(--base-input-size)
        background-color: transparent
        white-space: nowrap
        font-weight: 600


    .form-inline-field-widget
      flex-grow: 1
      display: flex
      flex-direction: row
      &.left-border
        border-left: 1px dashed #434a56 !important
        padding-left: 6px


    .form-inline-field-help
      min-width: 20%
      max-width: 20%
      padding: 0

      div
        border-bottom: 1px dashed #434a56 !important
        padding: 0       
        margin: 0

      p 
        margin-top: 7px 
        margin-bottom: 8px
        



    &.error
      color: var(--color-hl-error, red)
    
  // ARRAYS

  .form-array-field
    flex-grow: 1
    display: flex
    flex-direction: column
    gap: $field-gap

    .form-array-field-item
      flex-grow: 1
      display: flex
      flex-direction: row
      gap: 8px

      margin-right: 4px

      .p-panel
        flex-grow: 1

  // BUTTONS

  .array-item-controls
    display: flex
    flex-direction: row
    align-items: flex-start
    gap: 4px

  // Prime theme overrides

  .p-panel 
    
    &.selected
      >.p-toggleable-content>.p-panel-content
        border-left-color: var(--color-hl-00) !important

    .p-panel-content
      padding: 0 !important
      padding-left: 20px !important
      margin: 0
      border-left: 1px dashed #434a56 !important
